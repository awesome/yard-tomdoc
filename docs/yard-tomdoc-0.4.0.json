{"(metadata)":{"source":["Profile"],"authors":[{"name":"Trans","email":"transfire@gmail.com"},{"name":"Loren Segal"}],"copyrights":[{"holder":"Rubyworks","year":"2012","license":"MIT"},{"holder":"Loren Segal","year":"2010","license":"MIT"}],"requirements":[{"name":"yard"},{"name":"tomparse"},{"name":"detroit","groups":["build"],"development":null},{"name":"spectroscope","groups":["test"],"development":null},{"name":"ae","groups":["test"],"development":null}],"dependencies":[],"alternatives":[],"conflicts":[],"repositories":[],"resources":{"home":"http://rubyworks.github.com/yard-tomdoc","code":"http://github.com/rubyworks/yard-tomdoc","bugs":"http://github.com/rubyworks/yard-tomdoc/issues","docs":"http://rubydoc.info/gems/yard-tomdoc/frames"},"extra":{},"load_path":["lib"],"revision":null,"name":"yard-tomdoc","title":"YARD TomDoc","version":"0.4.0","summary":"TomDoc for YARD","description":"Use TomDoc documentation format with YARD.","date":"2012-03-04","path":"(metadata)","markup":"rdoc"},"YARD":{"!":"module","path":"YARD","name":"YARD","namespace":"","comment":"","format":"rdoc","constants":[],"includes":[],"extensions":[],"modules":["YARD::TomDoc"],"classes":["YARD::Docstring"],"methods":[],"accessors":[],"files":["/lib/yard-tomdoc.rb"],"tags":{}},"YARD::TomDoc":{"!":"module","path":"YARD::TomDoc","name":"TomDoc","namespace":"YARD","comment":"","format":"rdoc","constants":[],"includes":[],"extensions":[],"modules":[],"classes":[],"methods":["YARD::TomDoc.metadata","YARD::TomDoc.const_missing"],"accessors":[],"files":["/lib/yard-tomdoc.rb"],"tags":{}},"YARD::TomDoc.metadata":{"!":"method","declarations":["class","public"],"path":"YARD::TomDoc.metadata","name":"metadata","namespace":"YARD::TomDoc","comment":"Metadata from the project's `yard-tomdoc.yml` fle.","format":"rdoc","aliases":[],"singleton":null,"interfaces":[{"signature":"metadata(.)","arguments":[]}],"returns":[{"type":"Hash","comment":"of metadata."}],"file":"/lib/yard-tomdoc.rb","line":null,"source":"def self.metadata\n  @metadata ||= (\n    require 'yaml'\n    YAML.load_file(File.dirname(__FILE__) + '/yard-tomdoc.yml')\n  )\nend","language":"ruby","dynamic":null,"tags":{}},"YARD::TomDoc.const_missing":{"!":"method","declarations":["class","public"],"path":"YARD::TomDoc.const_missing","name":"const_missing","namespace":"YARD::TomDoc","comment":"When a constant is missing, see if it is a metadata entry.","format":"rdoc","aliases":[],"singleton":null,"interfaces":[{"signature":"const_missing(.)","arguments":[{"name":"name"}]}],"returns":[],"file":"/lib/yard-tomdoc.rb","line":null,"source":"def self.const_missing(name)\n  metadata[name.to_s.downcase] || super(name)\nend","language":"ruby","dynamic":null,"tags":{"param":"constant name"}},"YARD::Docstring":{"!":"class","superclass":"Object","path":"YARD::Docstring","name":"Docstring","namespace":"YARD","comment":"","format":"rdoc","constants":[],"includes":[],"extensions":[],"modules":[],"classes":[],"methods":["YARD::Docstring#parse_comments"],"accessors":[],"files":["/lib/yard-tomdoc.rb"],"tags":{}},"YARD::Docstring#parse_comments":{"!":"method","declarations":["instance","public"],"path":"YARD::Docstring#parse_comments","name":"parse_comments","namespace":"YARD::Docstring","comment":"Parse comments with TomDoc and then provide YARD with results.","format":"rdoc","aliases":[],"singleton":null,"interfaces":[{"signature":"parse_comments(comments)","arguments":[{"name":"comments"}]}],"returns":[{"type":"String","comment":"parsed comments description"}],"file":"/lib/yard-tomdoc.rb","line":null,"source":"def parse_comments(comments)\n  comment = [comments].flatten.join(\"\\n\")\n\n  tomdoc = TomParse.parse(comment)\n\n  tomdoc.examples.each {|ex| create_tag(:example, \"\\n\" + ex) }\n\n  tomdoc.arguments.each {|arg| create_tag(:param, \"#{arg.name} #{arg.description}\") }\n\n  if last_argument = tomdoc.arguments.last\n    last_argument.options.each do |opt|\n      create_tag(:option, \"#{last_argument.name} #{opt.description}\")\n    end\n  end\n\n  tomdoc.raises.each {|r| create_tag(:raise, r.sub(/\\ARaises\\s+/, '')) }\n\n  tomdoc.returns.each do |r|\n    if md = /\\AReturns\\s+([A-Z].*?)\\s+/.match(r)\n      klass = md[1]\n      desc  = md.post_match\n      create_tag(:return, \"[#{klass}] #{desc}\")\n    else\n      desc = r.sub(/\\AReturns\\s+/, '')\n      create_tag(:return, desc)\n    end\n  end\n\n  create_tag(:yield, tomdoc.yields) if tomdoc.yields\n\n  create_tag(:deprecated) if tomdoc.deprecated?\n\n  create_tag(:private) if tomdoc.internal?\n\n  # notice we return the modified comment\n  tomdoc.description.to_s\nend","language":"ruby","dynamic":null,"tags":{"param":"comment strings"}},"/lib/yard-tomdoc.rb":{"!":"script","path":"lib/yard-tomdoc.rb","name":"yard-tomdoc.rb","mtime":null}}
